import numpy as np
import pandas as pd

motor = pd.read_csv('f60pro motor test.csv')
throttle = [0,01.548225,04.4025813,07.1657113,09.9572888,12.710465,15.4773513,18.2134288,21.0125375,23.8835263,26.59403,29.3759013,32.1930625,34.9466088,37.7341263,40.563325,43.5192838,46.32201,49.1711988,51.9197925,54.68534,57.4275363,60.2224425,63.022515,65.843835,68.9083075,72.4523963,75.95356,79.2135588,82.403795,85.4166438,88.2258638,91.3052063]
thrust = [-0.035340308,-0.034789653,-0.034680961,-0.032610953,-0.028199248,-0.022072086,-0.014577856,-0.004915222,0.006230152,0.018277275,0.031478287,0.045877478,0.061077302,0.077684949,0.094231848,0.108858363,0.127520082,0.145117708,0.161074039,0.177523298,0.193513777,0.211116258,0.228305733,0.245917101,0.264076299,0.282021251,0.299947883,0.319086948,0.333397177,0.34408547,0.352090763,0.362303725,0.370586715]
current = [0.208735533,0.223565666,0.2556315,0.320268731,0.418765463,0.559982196,0.746379256,1.002890937,1.323005046,1.725260106,2.186922491,2.756814871,3.4349067,4.196133349,4.999187552,5.894920587,6.98717724,8.157069238,9.454711212,10.82924591,12.36992737,13.8809925,15.57543756,17.36974241,19.16199644,21.20316803,23.88761951,26.69088241,29.09546009,31.37695634,33.50931455,35.39619943,37.59659803]

interp_curr = np.array([])
interp_throttle = np.array([])
interp_thrust = np.array([])

for i in range(1,91):
    x_interp = i
    curr_interp = np.interp(x_interp,throttle,current)
    interp_curr = np.append(interp_curr,curr_interp)
    interp_throttle = np.append(interp_throttle,int(i))
    
    thrust_interp = np.interp(x_interp,throttle,thrust)
    interp_thrust = np.append(interp_thrust,thrust_interp)

# print(interp_throttle)
# print(interp_curr)
# print(len(interp_thrust))

the_list =np.array([interp_throttle,interp_thrust ,interp_curr])
# print(the_list)

df = pd.DataFrame(the_list.T, columns=['Throttle (%)', 'Thrust (kg)', 'Current (A)'])
# print(df)

df.to_csv('f60pro interpolated data.csv', index=False)